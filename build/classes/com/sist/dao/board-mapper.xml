<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="com.sist.dao.board-mapper"> <!--namespace는 package를 의미한다.  -->
	<insert id="boardInsert" parameterType="Board">
		<selectKey keyProperty="no" resultType="int" order="BEFORE" >
			SELECT NVL(MAX(no)+1, 1)) as no FROM mvcBoard
		</selectKey>
		insert into mvcBoard(no, name, subject, content, pwd, group_id)
		values(#{no}, #{name}, #{subject}, #{content}, #{pwd}, (SELECT NVL(MAX(no)+1, 1)) as no FROM mvcBoard));
		<!-- 
			#{no} ==> ?
			insert into mvcBoard(no, name, subject, content, pwd, group_id)
			values(?, ?, ?, ?, ?, (SELECT NVL(MAX(no)+1, 1)) as no FROM mvcBoard));
		 	
		 	ps.setInt(1, board.getNo());
		 	pst.setString(2);
		 	pst.setString(3);
		 	pst.setString(4);
		 	pst.setString(5);

		 -->
	
	</insert>
	

</mapper>
 